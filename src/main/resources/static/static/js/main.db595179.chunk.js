(window.webpackJsonpfrontend=window.webpackJsonpfrontend||[]).push([[0],{12:function(e,n,r){},14:function(e,n,r){},15:function(e,n,r){"use strict";r.r(n);var t=r(0),o=r.n(t),a=r(4),c=r.n(a),i=(r(12),r(2)),s=r.n(i),u=r(5),l=r(1),p=r(6);function f(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,t)}return r}var m=function(e){for(var n=e+"=",r=decodeURIComponent(document.cookie).split(";"),t=0;t<r.length;t++){for(var o=r[t];" "===o.charAt(0);)o=o.substring(1);if(0===o.indexOf(n))return o.substring(n.length,o.length)}return""},h=function(e,n){return function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?f(r,!0).forEach(function(n){Object(l.a)(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(r).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}({},e,{},n)},d=function(e){var n={message:"",playerOneChoice:"",playerTwoChoice:"",playerOneName:"",playerTwoName:"",csrfToken:"",uuid:e.uuid},r=Object(t.useState)(n),a=Object(p.a)(r,2),c=a[0],i=a[1];Object(t.useEffect)(function(){var e=m("XSRF-TOKEN");i(h(c,{csrfToken:e})),i(h(c,{uuid:m("UUID")}))},[c.uuid]);var f=function(e,n){return i(h(e,n))},d=function(e){return f(c,Object(l.a)({},e.target.name,e.target.value))},y=function(e){return!["rock","paper","scissors"].includes(e)},g=function(){var e=Object(u.a)(s.a.mark(function e(n){var r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),r={playerOne:c.playerOneChoice,playerTwo:c.playerTwoChoice,matchId:c.uuid},console.log("Game: ",c.playerOneChoice),(y(c.playerOneChoice)||y(c.playerTwoChoice))&&f(c,{message:"Invalid choice!"}),c.playerOneChoice===c.playerTwoChoice&&f(c,{message:"Draw. Play again!"}),e.next=7,fetch("/api/",{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json","X-XSRF-TOKEN":c.csrfToken},referrer:"no-referrer",body:JSON.stringify(r)}).then(function(e){return e.json()}).then(function(e){var n;e?(console.log("RESULT success: ",e),n=e.message,f(c,{message:n})):i(h(c,{error:e.message}))});case 7:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}();return o.a.createElement("div",{className:"gameFormContainer"},c.message&&o.a.createElement("div",{className:"message"},c.message),o.a.createElement("form",{id:"gameForm"},o.a.createElement("input",{name:"playerOneChoice",placeholder:"Player 1 Choice",value:c.playerOneChoice,onChange:d,required:!0}),o.a.createElement("input",{name:"playerTwoChoice",placeholder:"Player 2 Choice",value:c.playerTwoChoice,onChange:d,required:!0}),o.a.createElement("button",{onClick:g},"PLAY")))},y=(r(14),function(){return o.a.createElement("div",{className:"container"},o.a.createElement(d,{uuid:2}))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},7:function(e,n,r){e.exports=r(15)}},[[7,1,2]]]);
//# sourceMappingURL=main.db595179.chunk.js.map